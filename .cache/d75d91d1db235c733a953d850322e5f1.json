{"remainingRequest":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/vuepress-plugin-reading-progress/ReadingProgress.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/vuepress-plugin-reading-progress/ReadingProgress.vue","mtime":1589438819630},{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/cache-loader/dist/cjs.js","mtime":1589438799360},{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/babel-loader/lib/index.js","mtime":1589438799350},{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/cache-loader/dist/cjs.js","mtime":1589438799360},{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/vue-loader/lib/index.js","mtime":1589438799760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZWFkaW5nUHJvZ3Jlc3MnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZWFkaW5nVG9wOiAwLAogICAgICByZWFkaW5nSGVpZ2h0OiAxLAogICAgICBwcm9ncmVzc1N0eWxlOiBudWxsLAogICAgICB0cmFuc2Zvcm06IFsndHJhbnNmb3JtJ10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJHJlYWRpbmdTaG93OiBmdW5jdGlvbiAkcmVhZGluZ1Nob3coKSB7CiAgICAgIHRoaXMuYmFzZSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuYmFzZSgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuJHJlYWRpbmdTaG93ICYmIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmdldFJlYWRpbmdCYXNlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGJhc2U6IGZ1bmN0aW9uIGJhc2UoKSB7CiAgICAgIGlmICh0aGlzLiRyZWFkaW5nU2hvdykgewogICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2Zvcm0oKTsKICAgICAgICB0aGlzLnByb2dyZXNzU3R5bGUgPSB0aGlzLmdldFByb2dyZXNzU3R5bGUoKTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5nZXRSZWFkaW5nQmFzZSwgMjAwKTsKICAgICAgfQogICAgfSwKICAgIGdldFJlYWRpbmdCYXNlOiBmdW5jdGlvbiBnZXRSZWFkaW5nQmFzZSgpIHsKICAgICAgdGhpcy5yZWFkaW5nSGVpZ2h0ID0gdGhpcy5nZXRSZWFkaW5nSGVpZ2h0KCkgLSB0aGlzLmdldFNjcmVlbkhlaWdodCgpOwogICAgICB0aGlzLnJlYWRpbmdUb3AgPSB0aGlzLmdldFJlYWRpbmdUb3AoKTsKICAgICAgdGhpcy5wcm9ncmVzc1N0eWxlID0gdGhpcy5nZXRQcm9ncmVzc1N0eWxlKCk7CiAgICB9LAogICAgZ2V0UmVhZGluZ0hlaWdodDogZnVuY3Rpb24gZ2V0UmVhZGluZ0hlaWdodCgpIHsKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0IHx8IDA7CiAgICB9LAogICAgZ2V0U2NyZWVuSGVpZ2h0OiBmdW5jdGlvbiBnZXRTY3JlZW5IZWlnaHQoKSB7CiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCAwOwogICAgfSwKICAgIGdldFJlYWRpbmdUb3A6IGZ1bmN0aW9uIGdldFJlYWRpbmdUb3AoKSB7CiAgICAgIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCAwOwogICAgfSwKICAgIGdldFRyYW5zZm9ybTogZnVuY3Rpb24gZ2V0VHJhbnNmb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHRyYW5zZm9ybUxpc3QgPSBbJ3RyYW5zZm9ybScsICctd2Via2l0LXRyYW5zZm9ybScsICctbW96LXRyYW5zZm9ybScsICctby10cmFuc2Zvcm0nLCAnLW1zLXRyYW5zZm9ybSddOwogICAgICByZXR1cm4gdHJhbnNmb3JtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gX3RoaXMuc3VwcG9ydENzcyhpdGVtKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UHJvZ3Jlc3NTdHlsZTogZnVuY3Rpb24gZ2V0UHJvZ3Jlc3NTdHlsZSgpIHsKICAgICAgdmFyIHByb2dyZXNzID0gdGhpcy5yZWFkaW5nVG9wIC8gdGhpcy5yZWFkaW5nSGVpZ2h0OwoKICAgICAgc3dpdGNoICh0aGlzLiRyZWFkaW5nU2hvdykgewogICAgICAgIGNhc2UgJ3RvcCc6CiAgICAgICAgY2FzZSAnYm90dG9tJzoKICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybVswXSkgewogICAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMudHJhbnNmb3JtWzBdLCAiOiBzY2FsZVgoIikuY29uY2F0KHByb2dyZXNzLCAiKSIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICJ3aWR0aDogIi5jb25jYXQocHJvZ3Jlc3MgKiAxMDAsICIlIik7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ2xlZnQnOgogICAgICAgIGNhc2UgJ3JpZ2h0JzoKICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybVswXSkgewogICAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMudHJhbnNmb3JtWzBdLCAiOiBzY2FsZVkoIikuY29uY2F0KHByb2dyZXNzLCAiKSIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICJoZWlnaHQ6ICIuY29uY2F0KHByb2dyZXNzICogMTAwLCAiJSIpOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICBzdXBwb3J0Q3NzOiBmdW5jdGlvbiBzdXBwb3J0Q3NzKHZhbHVlKSB7CiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgcmV0dXJuIHZhbHVlIGluIGRpdi5zdHlsZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ReadingProgress.vue"],"names":[],"mappings":";;;;;;;;AAOA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,CADA;AAEA,MAAA,aAAA,EAAA,CAFA;AAGA,MAAA,aAAA,EAAA,IAHA;AAIA,MAAA,SAAA,EAAA,CAAA,WAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,IAAA;AACA;AAHA,GAVA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,IAAA;AACA,GAjBA;AAkBA,EAAA,aAlBA,2BAkBA;AACA,SAAA,YAAA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,cAAA,CAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,UAAA,KAAA,YAAA,EAAA;AACA,aAAA,SAAA,GAAA,KAAA,YAAA,EAAA;AACA,aAAA,aAAA,GAAA,KAAA,gBAAA,EAAA;AACA,QAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,cAAA,EAAA,GAAA;AACA;AACA,KAPA;AAQA,IAAA,cARA,4BAQA;AACA,WAAA,aAAA,GAAA,KAAA,gBAAA,KAAA,KAAA,eAAA,EAAA;AACA,WAAA,UAAA,GAAA,KAAA,aAAA,EAAA;AACA,WAAA,aAAA,GAAA,KAAA,gBAAA,EAAA;AACA,KAZA;AAaA,IAAA,gBAbA,8BAaA;AACA,aAAA,QAAA,CAAA,IAAA,CAAA,YAAA,IACA,QAAA,CAAA,IAAA,CAAA,YADA,IAEA,CAFA;AAGA,KAjBA;AAkBA,IAAA,eAlBA,6BAkBA;AACA,aAAA,MAAA,CAAA,WAAA,IACA,QAAA,CAAA,eAAA,CAAA,YADA,IAEA,CAFA;AAGA,KAtBA;AAuBA,IAAA,aAvBA,2BAuBA;AACA,aAAA,MAAA,CAAA,WAAA,IACA,QAAA,CAAA,eAAA,CAAA,SADA,IAEA,CAFA;AAGA,KA3BA;AA4BA,IAAA,YA5BA,0BA4BA;AAAA;;AACA,UAAA,aAAA,GAAA,CAAA,WAAA,EAAA,mBAAA,EAAA,gBAAA,EAAA,cAAA,EAAA,eAAA,CAAA;AACA,aAAA,aAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,KAAA,CAAA,UAAA,CAAA,IAAA,CAAA;AAAA,OAAA,CAAA;AACA,KA/BA;AAgCA,IAAA,gBAhCA,8BAgCA;AACA,UAAA,QAAA,GAAA,KAAA,UAAA,GAAA,KAAA,aAAA;;AACA,cAAA,KAAA,YAAA;AACA,aAAA,KAAA;AACA,aAAA,QAAA;AACA,cAAA,KAAA,SAAA,CAAA,CAAA,CAAA,EAAA;AACA,6BAAA,KAAA,SAAA,CAAA,CAAA,CAAA,sBAAA,QAAA;AACA,WAFA,MAEA;AACA,oCAAA,QAAA,GAAA,GAAA;AACA;;AACA;;AACA,aAAA,MAAA;AACA,aAAA,OAAA;AACA,cAAA,KAAA,SAAA,CAAA,CAAA,CAAA,EAAA;AACA,6BAAA,KAAA,SAAA,CAAA,CAAA,CAAA,sBAAA,QAAA;AACA,WAFA,MAEA;AACA,qCAAA,QAAA,GAAA,GAAA;AACA;;AACA;;AACA;AACA;AAlBA;AAoBA,KAtDA;AAuDA,IAAA,UAvDA,sBAuDA,KAvDA,EAuDA;AACA,UAAA,GAAA,GAAA,QAAA,CAAA,aAAA,CAAA,KAAA,CAAA;AACA,aAAA,KAAA,IAAA,GAAA,CAAA,KAAA;AACA;AA1DA;AArBA,CAAA","sourcesContent":["<template>\n  <div v-if=\"$readingShow\" :class=\"$readingShow\" class=\"reading-progress\">\n    <div :style=\"progressStyle\" class=\"progress\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ReadingProgress',\n  data () {\n    return {\n      readingTop: 0,\n      readingHeight: 1,\n      progressStyle: null,\n      transform: ['transform']\n    }\n  },\n  watch: {\n    $readingShow () {\n      this.base()\n    }\n  },\n  mounted () {\n    this.base()\n  },\n  beforeDestroy () {\n    this.$readingShow && window.removeEventListener('scroll', this.getReadingBase)\n  },\n  methods: {\n    base () {\n      if (this.$readingShow) {\n        this.transform = this.getTransform()\n        this.progressStyle = this.getProgressStyle()\n        window.addEventListener('scroll', this.getReadingBase, 200)\n      }\n    },\n    getReadingBase () {\n      this.readingHeight = this.getReadingHeight() - this.getScreenHeight()\n      this.readingTop = this.getReadingTop()\n      this.progressStyle = this.getProgressStyle()\n    },\n    getReadingHeight () {\n      return document.body.scrollHeight\n        || document.body.offsetHeight\n        || 0\n    },\n    getScreenHeight () {\n      return window.innerHeight\n        || document.documentElement.clientHeight\n        || 0\n    },\n    getReadingTop () {\n      return window.pageYOffset\n        || document.documentElement.scrollTop\n        || 0\n    },\n    getTransform () {\n      const transformList = ['transform', '-webkit-transform', '-moz-transform', '-o-transform', '-ms-transform']\n      return transformList.filter(item => this.supportCss(item))\n    },\n    getProgressStyle () {\n      const progress = this.readingTop / this.readingHeight\n      switch (this.$readingShow) {\n        case 'top':\n        case 'bottom':\n          if (this.transform[0]) {\n            return `${this.transform[0]}: scaleX(${progress})`\n          } else {\n            return `width: ${progress * 100}%`\n          }\n          break\n        case 'left':\n        case 'right':\n          if (this.transform[0]) {\n            return `${this.transform[0]}: scaleY(${progress})`\n          } else {\n            return `height: ${progress * 100}%`\n          }\n          break\n        default:\n          break\n      }\n    },\n    supportCss (value) {\n      const div = document.createElement('div')\n      return value in div.style\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n$readingBgColor ?= transparent\n$readingZIndex ?= 1000\n$readingSize ?= 3px\n$readingProgressColor ?= $accentColor\n$readingProgressImage ?= none\n\n.reading-progress\n  position fixed\n  z-index $readingZIndex\n  background $readingBgColor\n  overflow hidden\n  .progress\n    width 100%\n    height 100%\n    background $readingProgressColor\n    background-image $readingProgressImage\n    transform-origin 0% 0%\n    transition: transform .2s ease-out\n.top\n  top 0\n  left 0\n  right 0\n  width 100%\n  height $readingSize\n.bottom\n  bottom 0\n  left 0\n  right 0\n  width 100%\n  height $readingSize\n.left\n  left 0\n  top 0\n  bottom 0\n  width $readingSize\n  height 100%\n.right\n  right 0\n  top 0\n  bottom 0\n  width $readingSize\n  height 100%\n</style>\n"],"sourceRoot":"node_modules/vuepress-plugin-reading-progress"}]}