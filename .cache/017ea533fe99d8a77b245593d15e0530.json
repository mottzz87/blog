{"remainingRequest":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/@vuepress/plugin-blog/lib/client/pagination.js","dependencies":[{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/@vuepress/plugin-blog/lib/client/pagination.js","mtime":1589438819830},{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/cache-loader/dist/cjs.js","mtime":1589438799360},{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/babel-loader/lib/index.js","mtime":1589438799350}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0IjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Wb2x1bWVzL1x1NTE3MVx1NzUyOFx1NzZEOC9wcm9zL3Rlc3QvdnVlcHJlc19tYWMvYmxvZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1ZvbHVtZXMvXHU1MTcxXHU3NTI4XHU3NkQ4L3Byb3MvdGVzdC92dWVwcmVzX21hYy9ibG9nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1ZvbHVtZXMvXHU1MTcxXHU3NTI4XHU3NkQ4L3Byb3MvdGVzdC92dWVwcmVzX21hYy9ibG9nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHBhZ2luYXRpb25zIGZyb20gJ0BkeW5hbWljL3Z1ZXByZXNzX2Jsb2cvcGFnaW5hdGlvbnMnOwppbXBvcnQgX2RlYnVnIGZyb20gJ2RlYnVnJzsKCnZhciBkZWJ1ZyA9IF9kZWJ1ZygncGx1Z2luLWJsb2c6cGFnaW5hdGlvbicpOwoKdmFyIFBhZ2luYXRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFBhZ2luYXRpb24ocGFnaW5hdGlvbiwgcGFnZXMsIHJvdXRlKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnaW5hdGlvbik7CgogICAgZGVidWcocGFnaW5hdGlvbik7CiAgICB2YXIgcGFnaW5hdGlvblBhZ2VzID0gcGFnaW5hdGlvbi5wYWdlczsKICAgIHZhciBwYXRoID0gcm91dGUucGF0aDsKCiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHBhZ2luYXRpb25QYWdlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHBhZ2UgPSBwYWdpbmF0aW9uUGFnZXNbaV07CgogICAgICBpZiAocGFnZS5wYXRoID09PSBwYXRoKSB7CiAgICAgICAgdGhpcy5wYWdpbmF0aW9uSW5kZXggPSBpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgaWYgKCF0aGlzLnBhZ2luYXRpb25JbmRleCkgewogICAgICB0aGlzLnBhZ2luYXRpb25JbmRleCA9IDA7CiAgICB9CgogICAgdGhpcy5fcGFnaW5hdGlvblBhZ2VzID0gcGFnaW5hdGlvblBhZ2VzOwogICAgdGhpcy5fY3VycmVudFBhZ2UgPSBwYWdpbmF0aW9uUGFnZXNbdGhpcy5wYWdpbmF0aW9uSW5kZXhdOwogICAgdGhpcy5fbWF0Y2hlZFBhZ2VzID0gcGFnZXMuZmlsdGVyKGZ1bmN0aW9uIChwYWdlKSB7CiAgICAgIHJldHVybiBwYWdpbmF0aW9uLmZpbHRlcihwYWdlLCBwYWdpbmF0aW9uLmlkLCBwYWdpbmF0aW9uLnBpZCk7CiAgICB9KS5zb3J0KHBhZ2luYXRpb24uc29ydGVyKTsKICB9CgogIF9jcmVhdGVDbGFzcyhQYWdpbmF0aW9uLCBbewogICAga2V5OiAic2V0SW5kZXhQYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRJbmRleFBhZ2UocGF0aCkgewogICAgICB0aGlzLl9pbmRleFBhZ2UgPSBwYXRoOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFNwZWNpZmljUGFnZUxpbmsiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNwZWNpZmljUGFnZUxpbmsoaW5kZXgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhZ2luYXRpb25QYWdlc1tpbmRleF0ucGF0aDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsZW5ndGgiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYWdpbmF0aW9uUGFnZXMubGVuZ3RoOwogICAgfQogIH0sIHsKICAgIGtleTogInBhZ2VzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkX2N1cnJlbnRQYWdlJGluID0gX3NsaWNlZFRvQXJyYXkodGhpcy5fY3VycmVudFBhZ2UuaW50ZXJ2YWwsIDIpLAogICAgICAgICAgc3RhcnQgPSBfdGhpcyRfY3VycmVudFBhZ2UkaW5bMF0sCiAgICAgICAgICBlbmQgPSBfdGhpcyRfY3VycmVudFBhZ2UkaW5bMV07CgogICAgICByZXR1cm4gdGhpcy5fbWF0Y2hlZFBhZ2VzLnNsaWNlKHN0YXJ0LCBlbmQgKyAxKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNQcmV2IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5wYWdpbmF0aW9uSW5kZXggIT09IDA7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJldkxpbmsiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIGlmICh0aGlzLmhhc1ByZXYpIHsKICAgICAgICBpZiAodGhpcy5wYWdpbmF0aW9uSW5kZXggLSAxID09PSAwICYmIHRoaXMuX2luZGV4UGFnZSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4UGFnZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLl9wYWdpbmF0aW9uUGFnZXNbdGhpcy5wYWdpbmF0aW9uSW5kZXggLSAxXS5wYXRoOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNOZXh0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5wYWdpbmF0aW9uSW5kZXggIT09IHRoaXMubGVuZ3RoIC0gMTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJuZXh0TGluayIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgaWYgKHRoaXMuaGFzTmV4dCkgewogICAgICAgIHJldHVybiB0aGlzLl9wYWdpbmF0aW9uUGFnZXNbdGhpcy5wYWdpbmF0aW9uSW5kZXggKyAxXS5wYXRoOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9XSk7CgogIHJldHVybiBQYWdpbmF0aW9uOwp9KCk7Cgp2YXIgUGFnaW5hdGlvbkdhdGV3YXkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFBhZ2luYXRpb25HYXRld2F5KHBhZ2luYXRpb25zKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnaW5hdGlvbkdhdGV3YXkpOwoKICAgIHRoaXMucGFnaW5hdGlvbnMgPSBwYWdpbmF0aW9uczsKICB9CgogIF9jcmVhdGVDbGFzcyhQYWdpbmF0aW9uR2F0ZXdheSwgW3sKICAgIGtleTogImdldFBhZ2luYXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhZ2luYXRpb24ocGlkLCBpZCwgcm91dGUpIHsKICAgICAgZGVidWcoJ2lkJywgaWQpOwogICAgICBkZWJ1ZygndGhpcy5wYWdpbmF0aW9ucycsIHRoaXMucGFnaW5hdGlvbnMpOwogICAgICB2YXIgcGFnbmluYXRpb24gPSB0aGlzLnBhZ2luYXRpb25zLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiBwLmlkID09PSBpZCAmJiBwLnBpZCA9PT0gcGlkOwogICAgICB9KVswXTsKICAgICAgcmV0dXJuIG5ldyBQYWdpbmF0aW9uKHBhZ25pbmF0aW9uLCB0aGlzLnBhZ2VzLCByb3V0ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicGFnZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBWdWUuJHZ1ZXByZXNzLiRnZXQoJ3NpdGVEYXRhJykucGFnZXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUGFnaW5hdGlvbkdhdGV3YXk7Cn0oKTsKCnZhciBnYXRld2F5ID0gbmV3IFBhZ2luYXRpb25HYXRld2F5KHBhZ2luYXRpb25zKTsKZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChfcmVmKSB7CiAgdmFyIFZ1ZSA9IF9yZWYuVnVlOwogIFZ1ZS5taXhpbih7CiAgICBtZXRob2RzOiB7CiAgICAgICRnZXRQYWdpbmF0aW9uOiBmdW5jdGlvbiAkZ2V0UGFnaW5hdGlvbihwaWQsIGlkKSB7CiAgICAgICAgaWQgPSBpZCB8fCBwaWQ7CiAgICAgICAgcmV0dXJuIGdhdGV3YXkuZ2V0UGFnaW5hdGlvbihwaWQsIGlkLCB0aGlzLiRyb3V0ZSk7CiAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAkcGFnaW5hdGlvbjogZnVuY3Rpb24gJHBhZ2luYXRpb24oKSB7CiAgICAgICAgaWYgKCF0aGlzLiRyb3V0ZS5tZXRhLnBpZCB8fCAhdGhpcy4kcm91dGUubWV0YS5pZCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpcy4kZ2V0UGFnaW5hdGlvbih0aGlzLiRyb3V0ZS5tZXRhLnBpZCwgdGhpcy4kcm91dGUubWV0YS5pZCk7CiAgICAgIH0KICAgIH0KICB9KTsKfSk7"},{"version":3,"sources":["/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/@vuepress/plugin-blog/lib/client/pagination.js"],"names":["Vue","paginations","_debug","debug","Pagination","pagination","pages","route","paginationPages","path","i","l","length","page","paginationIndex","_paginationPages","_currentPage","_matchedPages","filter","id","pid","sort","sorter","_indexPage","index","interval","start","end","slice","hasPrev","hasNext","PaginationGateway","pagnination","p","$vuepress","$get","gateway","mixin","methods","$getPagination","getPagination","$route","computed","$pagination","meta"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport paginations from '@dynamic/vuepress_blog/paginations';\nimport _debug from 'debug';\nconst debug = _debug('plugin-blog:pagination');\nclass Pagination {\n    constructor(pagination, pages, route) {\n        debug(pagination);\n        const { pages: paginationPages } = pagination;\n        const { path } = route;\n        for (let i = 0, l = paginationPages.length; i < l; i++) {\n            const page = paginationPages[i];\n            if (page.path === path) {\n                this.paginationIndex = i;\n                break;\n            }\n        }\n        if (!this.paginationIndex) {\n            this.paginationIndex = 0;\n        }\n        this._paginationPages = paginationPages;\n        this._currentPage = paginationPages[this.paginationIndex];\n        this._matchedPages = pages\n            .filter(page => pagination.filter(page, pagination.id, pagination.pid))\n            .sort(pagination.sorter);\n    }\n    setIndexPage(path) {\n        this._indexPage = path;\n    }\n    get length() {\n        return this._paginationPages.length;\n    }\n    get pages() {\n        const [start, end] = this._currentPage.interval;\n        return this._matchedPages.slice(start, end + 1);\n    }\n    get hasPrev() {\n        return this.paginationIndex !== 0;\n    }\n    get prevLink() {\n        if (this.hasPrev) {\n            if (this.paginationIndex - 1 === 0 && this._indexPage) {\n                return this._indexPage;\n            }\n            return this._paginationPages[this.paginationIndex - 1].path;\n        }\n        return null;\n    }\n    get hasNext() {\n        return this.paginationIndex !== this.length - 1;\n    }\n    get nextLink() {\n        if (this.hasNext) {\n            return this._paginationPages[this.paginationIndex + 1].path;\n        }\n        return null;\n    }\n    getSpecificPageLink(index) {\n        return this._paginationPages[index].path;\n    }\n}\nclass PaginationGateway {\n    constructor(paginations) {\n        this.paginations = paginations;\n    }\n    get pages() {\n        return Vue.$vuepress.$get('siteData').pages;\n    }\n    getPagination(pid, id, route) {\n        debug('id', id);\n        debug('this.paginations', this.paginations);\n        const pagnination = this.paginations.filter(p => p.id === id && p.pid === pid)[0];\n        return new Pagination(pagnination, this.pages, route);\n    }\n}\nconst gateway = new PaginationGateway(paginations);\nexport default ({ Vue }) => {\n    Vue.mixin({\n        methods: {\n            $getPagination(pid, id) {\n                id = id || pid;\n                return gateway.getPagination(pid, id, this.$route);\n            },\n        },\n        computed: {\n            $pagination() {\n                if (!this.$route.meta.pid || !this.$route.meta.id) {\n                    return null;\n                }\n                return this.$getPagination(this.$route.meta.pid, this.$route.meta.id);\n            },\n        },\n    });\n};\n"]}]}