{"remainingRequest":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/vuepress-theme-reco/components/Mode/setMode.js","dependencies":[{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/vuepress-theme-reco/components/Mode/setMode.js","mtime":1589438819640},{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/cache-loader/dist/cjs.js","mtime":1589438799360},{"path":"/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/babel-loader/lib/index.js","mtime":1589438799350}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgbW9kZU9wdGlvbnMgZnJvbSAnLi9tb2RlT3B0aW9ucyc7CmV4cG9ydCBmdW5jdGlvbiBhY3RpdmF0ZU1vZGUobW9kZSkgewogIHZhciByb290RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJzpyb290Jyk7CiAgdmFyIG9wdGlvbnMgPSBtb2RlT3B0aW9uc1ttb2RlXTsKCiAgZm9yICh2YXIgayBpbiBvcHRpb25zKSB7CiAgICByb290RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShrLCBvcHRpb25zW2tdKTsKICB9Cn0KLyoqCiAqIFNldHMgYSBjb2xvciBzY2hlbWUgZm9yIHRoZSB3ZWJzaXRlLgogKiBJZiBicm93c2VyIHN1cHBvcnRzICJwcmVmZXJzLWNvbG9yLXNjaGVtZSIgaXQgd2lsbCByZXNwZWN0IHRoZSBzZXR0aW5nIGZvciBsaWdodCBvciBkYXJrIG1vZGUKICogb3RoZXJ3aXNlIGl0IHdpbGwgc2V0IGEgZGFyayB0aGVtZSBkdXJpbmcgbmlnaHQgdGltZQogKi8KCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldE1vZGUoKSB7CiAgdmFyIGlzRGFya01vZGUgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXM7CiAgdmFyIGlzTGlnaHRNb2RlID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpJykubWF0Y2hlczsKICB2YXIgaXNOb3RTcGVjaWZpZWQgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBuby1wcmVmZXJlbmNlKScpLm1hdGNoZXM7CiAgdmFyIGhhc05vU3VwcG9ydCA9ICFpc0RhcmtNb2RlICYmICFpc0xpZ2h0TW9kZSAmJiAhaXNOb3RTcGVjaWZpZWQ7CiAgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGUubWF0Y2hlcyAmJiBhY3RpdmF0ZU1vZGUoJ2RhcmsnKTsKICB9KTsKICB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodCknKS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGUubWF0Y2hlcyAmJiBhY3RpdmF0ZU1vZGUoJ2xpZ2h0Jyk7CiAgfSk7CiAgaWYgKGlzRGFya01vZGUpIGFjdGl2YXRlTW9kZSgnZGFyaycpOwogIGlmIChpc0xpZ2h0TW9kZSkgYWN0aXZhdGVNb2RlKCdsaWdodCcpOwoKICBpZiAoaXNOb3RTcGVjaWZpZWQgfHwgaGFzTm9TdXBwb3J0KSB7CiAgICBjb25zb2xlLmxvZygnWW91IHNwZWNpZmllZCBubyBwcmVmZXJlbmNlIGZvciBhIGNvbG9yIHNjaGVtZSBvciB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBpdC4gSSBzY2hlZHVsZSBkYXJrIG1vZGUgZHVyaW5nIG5pZ2h0IHRpbWUuJyk7CiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgIHZhciBob3VyID0gbm93LmdldEhvdXJzKCk7CgogICAgaWYgKGhvdXIgPCA2IHx8IGhvdXIgPj0gMTgpIHsKICAgICAgYWN0aXZhdGVNb2RlKCdkYXJrJyk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["/Volumes/共用盘/pros/test/vuepres_mac/blog/node_modules/vuepress-theme-reco/components/Mode/setMode.js"],"names":["modeOptions","activateMode","mode","rootElement","document","querySelector","options","k","style","setProperty","setMode","isDarkMode","window","matchMedia","matches","isLightMode","isNotSpecified","hasNoSupport","addListener","e","console","log","now","Date","hour","getHours"],"mappings":";AAAA,OAAOA,WAAP,MAAwB,eAAxB;AAEA,OAAO,SAASC,YAAT,CAAuBC,IAAvB,EAA6B;AAClC,MAAMC,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAApB;AACA,MAAMC,OAAO,GAAGN,WAAW,CAACE,IAAD,CAA3B;;AAEA,OAAK,IAAMK,CAAX,IAAgBD,OAAhB,EAAyB;AACvBH,IAAAA,WAAW,CAACK,KAAZ,CAAkBC,WAAlB,CAA8BF,CAA9B,EAAiCD,OAAO,CAACC,CAAD,CAAxC;AACD;AACF;AAED;;;;;;AAKA,eAAe,SAASG,OAAT,GAAoB;AACjC,MAAMC,UAAU,GAAGC,MAAM,CAACC,UAAP,CAAkB,8BAAlB,EAAkDC,OAArE;AACA,MAAMC,WAAW,GAAGH,MAAM,CAACC,UAAP,CAAkB,+BAAlB,EAAmDC,OAAvE;AACA,MAAME,cAAc,GAAGJ,MAAM,CAACC,UAAP,CAAkB,uCAAlB,EAA2DC,OAAlF;AACA,MAAMG,YAAY,GAAG,CAACN,UAAD,IAAe,CAACI,WAAhB,IAA+B,CAACC,cAArD;AAEAJ,EAAAA,MAAM,CAACC,UAAP,CAAkB,8BAAlB,EAAkDK,WAAlD,CAA8D,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACL,OAAF,IAAab,YAAY,CAAC,MAAD,CAA7B;AAAA,GAA/D;AACAW,EAAAA,MAAM,CAACC,UAAP,CAAkB,+BAAlB,EAAmDK,WAAnD,CAA+D,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACL,OAAF,IAAab,YAAY,CAAC,OAAD,CAA7B;AAAA,GAAhE;AAEA,MAAIU,UAAJ,EAAgBV,YAAY,CAAC,MAAD,CAAZ;AAChB,MAAIc,WAAJ,EAAiBd,YAAY,CAAC,OAAD,CAAZ;;AACjB,MAAIe,cAAc,IAAIC,YAAtB,EAAoC;AAClCG,IAAAA,OAAO,CAACC,GAAR,CAAY,6HAAZ;AACA,QAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;AACA,QAAMC,IAAI,GAAGF,GAAG,CAACG,QAAJ,EAAb;;AACA,QAAID,IAAI,GAAG,CAAP,IAAYA,IAAI,IAAI,EAAxB,EAA4B;AAC1BvB,MAAAA,YAAY,CAAC,MAAD,CAAZ;AACD;AACF;AACF","sourcesContent":["import modeOptions from './modeOptions'\n\nexport function activateMode (mode) {\n  const rootElement = document.querySelector(':root')\n  const options = modeOptions[mode]\n\n  for (const k in options) {\n    rootElement.style.setProperty(k, options[k])\n  }\n}\n\n/**\n * Sets a color scheme for the website.\n * If browser supports \"prefers-color-scheme\" it will respect the setting for light or dark mode\n * otherwise it will set a dark theme during night time\n */\nexport default function setMode () {\n  const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches\n  const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches\n  const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches\n  const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified\n\n  window.matchMedia('(prefers-color-scheme: dark)').addListener(e => e.matches && activateMode('dark'))\n  window.matchMedia('(prefers-color-scheme: light)').addListener(e => e.matches && activateMode('light'))\n\n  if (isDarkMode) activateMode('dark')\n  if (isLightMode) activateMode('light')\n  if (isNotSpecified || hasNoSupport) {\n    console.log('You specified no preference for a color scheme or your browser does not support it. I schedule dark mode during night time.')\n    const now = new Date()\n    const hour = now.getHours()\n    if (hour < 6 || hour >= 18) {\n      activateMode('dark')\n    }\n  }\n}\n"]}]}